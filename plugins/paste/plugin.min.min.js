!function(g,d){function j(k,a){for(var m,i=[],l=0;l<k.length;++l){if(m=b[k[l]]||c(k[l]),!m){throw"module definition dependecy not found: "+k[l]}i.push(m)}a.apply(null,i)}function f(l,k,a){if("string"!=typeof l){throw"invalid module definition, module id must be defined and be a string"}if(k===d){throw"invalid module definition, dependencies must be specified"}if(a===d){throw"invalid module definition, definition function must be specified"}j(k,function(){b[l]=a.apply(null,arguments)})}function c(e){for(var l=g,k=e.split(/[.\/]/),a=0;a<k.length;++a){if(!l[k[a]]){return}l=l[k[a]]}return l}function h(t){var m,e,p,k,a;for(m=0;m<t.length;m++){e=g,p=t[m],k=p.split(/[.\/]/);for(var q=0;q<k.length-1;++q){e[k[q]]===d&&(e[k[q]]={}),e=e[k[q]]}e[k[k.length-1]]=b[p]}if(g.AMDLC_TESTS){a=g.privateModules||{};for(p in b){a[p]=b[p]}for(m=0;m<t.length;m++){delete a[t[m]]}g.privateModules=a}}var b={};f("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(q,m,u){function p(a,e){return q.each(e,function(i){a=i.constructor==RegExp?a.replace(i,""):a.replace(i[0],i[1])}),a}function l(t){function x(i){var a=i.name,o=i;if("br"===a){return void (e+="\n")}if(y[a]&&(e+=" "),r[a]){return void (e+=" ")}if(3==i.type&&(e+=i.value),!i.shortEnded&&(i=i.firstChild)){do{x(i)}while(i=i.next)}w[a]&&o.next&&(e+="\n","p"==a&&(e+="\n"))}var n=new u,v=new m({},n),e="",y=n.getShortEndedElements(),r=q.makeMap("script noscript style textarea video audio iframe object"," "),w=n.getBlockElements();return t=p(t,[/<!\[[^\]]+\]>/g]),x(v.parse(t)),e}function s(i){function a(r,o,v){return o||v?"\xa0":" "}return i=p(i,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,a],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function k(i){var a=0;return function(){return i+a++}}return{filter:p,innerText:l,trimHtml:s,createIdGenerator:k}}),f("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(v){var y=function(a){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(a)},p=function(a){return y(a)&&/.(gif|jpe?g|png)$/.test(a)},k=function(i,a,l){return i.undoManager.extra(function(){l(i,a)},function(){i.insertContent('<img src="'+a+'">')}),!0},u=function(i,a,l){return i.undoManager.extra(function(){l(i,a)},function(){i.execCommand("mceInsertLink",!1,a)}),!0},m=function(i,l,a){return !(i.selection.isCollapsed()!==!1||!y(l))&&u(i,l,a)},x=function(n,l,a){return !!p(l)&&k(n,l,a)},z=function(i,a){return i.insertContent(a,{merge:i.settings.paste_merge_formats!==!1,paste:!0}),!0},q=function(a,e){v.each([m,x,z],function(i){return i(a,e,z)!==!0})},w=function(i,a){i.settings.smart_paste===!1?z(i,a):q(i,a)};return{isImageUrl:p,isAbsoluteUrl:y,insertContent:w}}),f("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(m,k,q,l,a,p){return function(ab){function I(v){var s,w=ab.dom;if(s=ab.fire("BeforePastePreProcess",{content:v}),s=ab.fire("PastePreProcess",s),v=s.content,!s.isDefaultPrevented()){if(ab.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()){var u=w.add(ab.getBody(),"div",{style:"display:none"},v);s=ab.fire("PastePostProcess",{node:u}),w.remove(u),v=s.node.innerHTML}s.isDefaultPrevented()||a.insertContent(ab,v)}}function Q(v){v=ab.dom.encode(v).replace(/\r\n/g,"\n");var u,w=ab.dom.getParent(ab.selection.getStart(),ab.dom.isBlock),s=ab.settings.forced_root_block;s&&(u=ab.dom.createHTML(s,ab.settings.forced_root_block_attrs),u=u.substr(0,u.length-3)+">"),w&&/^(PRE|DIV)$/.test(w.nodeName)||!s?v=l.filter(v,[[/\n/g,"<br>"]]):(v=l.filter(v,[[/\n\n/g,"</p>"+u],[/^(.*<\/p>)(<p>)$/,u+"$1"],[/\n/g,"<br />"]]),v.indexOf("<p>")!=-1&&(v=u+v)),I(v)}function Z(){function E(P){var u,S,s,R=P.startContainer;if(u=P.getClientRects(),u.length){return u[0]}if(P.collapsed&&1==R.nodeType){for(s=R.childNodes[i.startOffset];s&&3==s.nodeType&&!s.data.length;){s=s.nextSibling}if(s){return"BR"==s.tagName&&(S=v.doc.createTextNode("\ufeff"),s.parentNode.insertBefore(S,s),P=v.createRng(),P.setStartBefore(S),P.setEndAfter(S),u=P.getClientRects(),v.remove(S)),u.length?u[0]:void 0}}}var x,v=ab.dom,A=ab.getBody(),w=ab.dom.getViewPort(ab.getWin()),N=w.y,y=20;if(i=ab.selection.getRng(),ab.inline&&(x=ab.selection.getScrollContainer(),x&&x.scrollTop>0&&(N=x.scrollTop)),i.getClientRects){var B=E(i);if(B){y=N+(B.top-v.getPos(A).y)}else{y=N;var C=i.startContainer;C&&(3==C.nodeType&&C.parentNode!=A&&(C=C.parentNode),1==C.nodeType&&(y=v.getPos(C,x||A).y))}}U=v.add(ab.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+y+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},L),(m.ie||m.gecko)&&v.setStyle(U,"left","rtl"==v.getStyle(A,"direction",!0)?65535:-65535),v.bind(U,"beforedeactivate focusin focusout",function(s){s.stopPropagation()}),U.focus(),ab.selection.select(U,!0)}function G(){if(U){for(var s;s=ab.dom.get("mcepastebin");){ab.dom.remove(s),ab.dom.unbind(s)}i&&ab.selection.setRng(i)}U=i=null}function Y(){var w,u,x,v,s="";for(w=ab.dom.select("div[id=mcepastebin]"),u=0;u<w.length;u++){x=w[u],x.firstChild&&"mcepastebin"==x.firstChild.id&&(x=x.firstChild),v=x.innerHTML,s!=L&&(s+=v)}return s}function X(w){var u={};if(w){if(w.getData){var x=w.getData("Text");x&&x.length>0&&x.indexOf(K)==-1&&(u["text/plain"]=x)}if(w.types){for(var v=0;v<w.types.length;v++){var s=w.types[v];u[s]=w.getData(s)}}}return u}function M(s){return X(s.clipboardData||ab.getDoc().dataTransfer)}function O(s){return J(s,"text/html")||J(s,"text/plain")}function W(u){var s;return s=u.indexOf(","),s!==-1?u.substr(s+1):null}function V(u,s){return !u.images_dataimg_filter||u.images_dataimg_filter(s)}function F(A,E,w){A&&(ab.selection.setRng(A),A=null);var s=E.result,y=W(s),v=new Image;if(v.src=s,V(ab.settings,v)){var x,B,C=ab.editorUpload.blobCache;B=C.findFirst(function(u){return u.base64()===y}),B?x=B:(x=C.create(o(),w,y),C.add(x)),I('<img src="'+x.blobUri()+'">')}else{I('<img src="'+s+'">')}}function aa(v,s){function w(E){var B,y,C,x=!1;if(E){for(B=0;B<E.length;B++){if(y=E[B],/^image\/(jpeg|png|gif|bmp)$/.test(y.type)){var A=y.getAsFile?y.getAsFile():y;C=new FileReader,C.onload=F.bind(null,s,C,A),C.readAsDataURL(A),v.preventDefault(),x=!0}}}return x}var u=v.clipboardData||v.dataTransfer;if(ab.settings.paste_data_images&&u){return w(u.items)||w(u.files)}}function t(u){var s=u.clipboardData;return navigator.userAgent.indexOf("Android")!=-1&&s&&s.items&&0===s.items.length}function z(s){return k.getCaretRangeFromPoint(s.clientX,s.clientY,ab.getDoc())}function J(u,s){return s in u&&u[s].length>0}function D(s){return q.metaKeyPressed(s)&&86==s.keyCode||s.shiftKey&&45==s.keyCode}function r(){function u(y,x,A){var w;return J(y,"text/html")?w=y["text/html"]:(w=Y(),w==L&&(A=!0)),w=l.trimHtml(w),U&&U.firstChild&&"mcepastebin"===U.firstChild.id&&(A=!0),G(),w.length||(A=!0),A&&(w=J(y,"text/plain")&&w.indexOf("</p>")==-1?y["text/plain"]:l.innerText(w)),w==L?void (x||ab.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void (A?Q(w):I(w))}function v(x){var w=x["text/plain"];return !!w&&0===w.indexOf("file://")}ab.on("keydown",function(w){function x(y){D(y)&&!y.isDefaultPrevented()&&G()}if(D(w)&&!w.isDefaultPrevented()){if(ac=w.shiftKey&&86==w.keyCode,ac&&m.webkit&&navigator.userAgent.indexOf("Version/")!=-1){return}if(w.stopImmediatePropagation(),e=(new Date).getTime(),m.ie&&ac){return w.preventDefault(),void ab.fire("paste",{ieFake:!0})}G(),Z(),ab.once("keyup",x),ab.once("paste",function(){ab.off("keyup",x)})}});var s=function(){return i||ab.selection.getRng()};ab.on("paste",function(C){var A=(new Date).getTime(),x=M(C),w=(new Date).getTime()-A,B=(new Date).getTime()-e-w<1000,y="text"==H.pasteFormat||ac;return ac=!1,C.isDefaultPrevented()||t(C)?void G():!O(x)&&aa(C,s())?void G():(B||C.preventDefault(),!m.ie||B&&!C.ieFake||(Z(),ab.dom.bind(U,"paste",function(E){E.stopPropagation()}),ab.getDoc().execCommand("Paste",!1,null),x["text/html"]=Y()),void (J(x,"text/html")?(C.preventDefault(),u(x,B,y)):p.setEditorTimeout(ab,function(){u(x,B,y)},0)))}),ab.on("dragstart dragend",function(w){n="dragstart"==w.type}),ab.on("drop",function(y){var x,w;if(w=z(y),!y.isDefaultPrevented()&&!n&&(x=X(y.dataTransfer),(O(x)&&!v(x)||!aa(y,w))&&w&&ab.settings.paste_filter_drop!==!1)){var A=x["mce-internal"]||x["text/html"]||x["text/plain"];A&&(y.preventDefault(),p.setEditorTimeout(ab,function(){ab.undoManager.transact(function(){x["mce-internal"]&&ab.execCommand("Delete"),ab.selection.setRng(w),A=l.trimHtml(A),x["text/html"]?I(A):Q(A)})}))}}),ab.on("dragover dragend",function(w){ab.settings.paste_data_images&&w.preventDefault()})}var U,i,ac,H=this,e=0,n=!1,L="%MCEPASTEBIN%",K="data:text/mce-internal,",o=l.createIdGenerator("mceclip");H.pasteHtml=I,H.pasteText=Q,H.pasteImageData=aa,ab.on("preInit",function(){r(),ab.parser.addNodeFilter("img",function(E,x,v){function A(s){return s.data&&s.data.paste===!0}function w(s){s.attr("data-mce-object")||C===m.transparentSrc||s.remove()}function N(s){return 0===s.indexOf("webkit-fake-url")}function y(s){return 0===s.indexOf("data:")}if(!ab.settings.paste_data_images&&A(v)){for(var B=E.length;B--;){var C=E[B].attributes.map.src;C&&(N(C)?w(E[B]):!ab.settings.allow_html_data_urls&&y(C)&&w(E[B]))}}})})}}),f("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(v,y,p,k,u,m){function x(a){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(a)||/class="OutlineElement/.test(a)||/id="?docs\-internal\-guid\-/.test(a)}function z(a){var i,e;return e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],a=a.replace(/^[\u00a0 ]+/,""),v.each(e,function(l){if(l.test(a)){return i=!0,!1}}),i}function q(a){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(a)}function w(e){var a=e.settings;e.on("BeforePastePreProcess",function(s){function r(L){function Q(R){var S="";if(3===R.type){return R.value}if(R=R.firstChild){do{S+=Q(R)}while(R=R.next)}return S}function G(S,R){if(3===S.type&&R.test(S.value)){return S.value=S.value.replace(R,""),!1}if(S=S.firstChild){do{if(!G(S,R)){return !1}}while(S=S.next)}return !0}function D(R){if(R._listIgnore){return void R.remove()}if(R=R.firstChild){do{D(R)}while(R=R.next)}}function F(T,R,U){var S=T._listLevel||P;S!=P&&(S<P?O&&(O=O.parent.parent):(N=O,O=null)),O&&O.name==R?O.append(T):(N=N||O,O=new u(R,1),U>1&&O.attr("start",""+U),T.wrap(O)),T.name="li",S>P&&N&&N.lastChild.append(O),P=S,D(T),G(T,/^\u00a0+/),G(T,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),G(T,/^\u00a0+/)}for(var O,N,P=1,M=[],K=L.firstChild;"undefined"!=typeof K&&null!==K;){if(M.push(K),K=K.walk(),null!==K){for(;"undefined"!=typeof K&&K.parent!==L;){K=K.walk()}}}for(var E=0;E<M.length;E++){if(L=M[E],"p"==L.name&&L.firstChild){var H=Q(L);if(q(H)){F(L,"ul");continue}if(z(H)){var J=/([0-9]+)\./.exec(H),I=1;J&&(I=parseInt(J[1],10)),F(L,"ol",I);continue}if(L._listLevel){F(L,"ul",1);continue}O=null}else{N=O,O=null}}}function i(E,H){var F,G={},D=e.dom.parseStyle(H);return v.each(D,function(J,I){switch(I){case"mso-list":F=/\w+ \w+([0-9]+)/i.exec(H),F&&(E._listLevel=parseInt(F[1],10)),/Ignore/i.test(J)&&E.firstChild&&(E._listIgnore=!0,E.firstChild._listIgnore=!0);break;case"horiz-align":I="text-align";break;case"vert-align":I="vertical-align";break;case"font-color":case"mso-foreground":I="color";break;case"mso-background":case"mso-highlight":I="background";break;case"font-weight":case"font-style":return void ("normal"!=J&&(G[I]=J));case"mso-element":if(/^(comment|comment-list)$/i.test(J)){return void E.remove()}}return 0===I.indexOf("mso-comment")?void E.remove():void (0!==I.indexOf("mso-")&&("all"==l||o&&o[I])&&(G[I]=J))}),/(bold)/i.test(G["font-weight"])&&(delete G["font-weight"],E.wrap(new u("b",1))),/(italic)/i.test(G["font-style"])&&(delete G["font-style"],E.wrap(new u("i",1))),G=e.dom.serializeStyle(G,E.name),G?G:null}var l,o,n=s.content;if(n=n.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,""),n=n.replace(/<br class="?Apple-interchange-newline"?>/gi,""),l=a.paste_retain_style_properties,l&&(o=v.makeMap(l.split(/[, ]/))),a.paste_enable_default_filters!==!1&&x(s.content)){s.wordContent=!0,n=m.filter(n,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(E,D){return D.length>0?D.replace(/./," ").slice(Math.floor(D.length/2)).split("").join("\xa0"):""}]]);var C=a.paste_word_valid_elements;C||(C="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var A=new p({valid_elements:C,valid_children:"-li[p]"});v.each(A.elements,function(D){D.attributes["class"]||(D.attributes["class"]={},D.attributesOrder.push("class")),D.attributes.style||(D.attributes.style={},D.attributesOrder.push("style"))});var t=new y({},A);t.addAttributeFilter("style",function(E){for(var D,F=E.length;F--;){D=E[F],D.attr("style",i(D,D.attr("style"))),"span"==D.name&&D.parent&&!D.attributes.length&&D.unwrap()}}),t.addAttributeFilter("class",function(F){for(var D,G,E=F.length;E--;){D=F[E],G=D.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(G)&&D.remove(),D.attr("class",null)}}),t.addNodeFilter("del",function(E){for(var D=E.length;D--;){E[D].remove()}}),t.addNodeFilter("a",function(G){for(var E,H,F,D=G.length;D--;){if(E=G[D],H=E.attr("href"),F=E.attr("name"),H&&H.indexOf("#_msocom_")!=-1){E.remove()}else{if(H&&0===H.indexOf("file://")&&(H=H.split("#")[1],H&&(H="#"+H)),H||F){if(F&&!/^_?(?:toc|edn|ftn)/i.test(F)){E.unwrap();continue}E.attr({href:H,name:F})}else{E.unwrap()}}}});var B=t.parse(n);a.paste_convert_word_fake_lists!==!1&&r(B),s.content=new k({validate:a.validate},A).serialize(B)}})}return w.isWordContent=x,w}),f("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(k,a,l,i){return function(m){function p(o){m.on("BeforePastePreProcess",function(q){q.content=o(q.content)})}function e(r){if(!l.isWordContent(r)){return r}var s=[];a.each(m.schema.getBlockElements(),function(u,o){s.push(o)});var q=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+s.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return r=i.filter(r,[[q,"$1"]]),r=i.filter(r,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function n(u){if(l.isWordContent(u)){return u}var q=m.settings.paste_webkit_styles;if(m.settings.paste_remove_styles_if_webkit===!1||"all"==q){return u}if(q&&(q=q.split(/[, ]/)),q){var s=m.dom,v=m.selection.getNode();u=u.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(w,o,t,z){var B=s.parseStyle(t,"span"),r={};if("none"===q){return o+z}for(var y=0;y<q.length;y++){var A=B[q[y]],x=s.getStyle(v,q[y],!0);/color/.test(q[y])&&(A=s.toHex(A),x=s.toHex(x)),x!=A&&(r[q[y]]=A)}return r=s.serializeStyle(r,"span"),r?o+' style="'+r+'"'+z:o+z})}else{u=u.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}return u=u.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(x,o,y,w){return o+' style="'+y+'"'+w})}k.webkit&&p(n),k.ie&&p(e)}}),f("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(m,k,o,l){var a;m.add("paste",function(r){function i(){return a||r.settings.paste_plaintext_inform===!1}function p(){if("text"==t.pasteFormat){t.pasteFormat="html",r.fire("PastePlainTextToggle",{state:!1})}else{if(t.pasteFormat="text",r.fire("PastePlainTextToggle",{state:!0}),!i()){var s=r.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");r.notificationManager.open({text:s,type:"info"}),a=!0}}r.focus()}function e(){var s=this;s.active("text"===t.pasteFormat),r.on("PastePlainTextToggle",function(u){s.active(u.state)})}var t,n=this,q=r.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(q.plugins)&&m.get("powerpaste")?void ("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(n.clipboard=t=new k(r),n.quirks=new l(r),n.wordFilter=new o(r),r.settings.paste_as_text&&(n.clipboard.pasteFormat="text"),q.paste_preprocess&&r.on("PastePreProcess",function(s){q.paste_preprocess.call(n,n,s)}),q.paste_postprocess&&r.on("PastePostProcess",function(s){q.paste_postprocess.call(n,n,s)}),r.addCommand("mceInsertClipboardContent",function(u,s){s.content&&n.clipboard.pasteHtml(s.content),s.text&&n.clipboard.pasteText(s.text)}),r.settings.paste_block_drop&&r.on("dragend dragover draggesture dragdrop drop drag",function(s){s.preventDefault(),s.stopPropagation()}),r.settings.paste_data_images||r.on("drop",function(u){var s=u.dataTransfer;s&&s.files&&s.files.length>0&&u.preventDefault()}),r.addCommand("mceTogglePlainTextPaste",p),r.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:p,onPostRender:e}),void r.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,onclick:p,onPostRender:e}))})}),h(["tinymce/pasteplugin/Utils"])}(window);